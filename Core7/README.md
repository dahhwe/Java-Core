# Практическая работа №7. Архитектура REST

Седьмая практическая работа по дисциплине — Разработка корпоративных информационных систем.

## Цель работы

Ознакомиться шаблоном MVC в Spring и тем, как он используется при создании web-приложений.

## Задачи

Изменить практическую работу №6, добавив следующий функционал:

- Преобразовать веб-приложение таким образом, чтобы оно поддерживало архитектуру REST. Должны поддерживаться следующие
  типы запросов: GET (показ html и извлечение json всех/одной записей/сущностей), POST (добавление), PUT (
  редактирование), DELETE (удаление);
- Разработать REST-клиент для приложения, который с использованием RestTemplate позволяет выполнять базовые операции по
  извлечению (GET), добавлению (POST), редактированию (PUT), удалению (DELETE) ресурсов. REST-клиент не обязан иметь
  графический пользовательский интерфейс, необходим репрезентативный тестовый пример, который можно запускать из окна
  терминала;
- Обязательным условием является сохранение всего предшествующего функционала приложения. Для удовлетворения всем
  характеристикам REST- архитектуры приложение может быть реорганизовано (убраны GET-запросы с параметрами) или добавлен
  новый функционал;
- PUT- и DELETE- запросы не обязательно делать из браузера. Достаточно реализации для клиентов-приложений.

### Вариант №11

Мебель.

## Инструкция по установке и настройке PostgreSQL

### 1. Установите PostgreSQL:

Убедитесь, что на Вашем компьютере установлен [PostgreSQL](https://www.postgresql.org/download/).
Для установки PostgreSQL на Linux Ubuntu / Debian, можно воспользоваться менеджером пакетов:

```
sudo apt-get update
sudo apt-get install postgresql postgresql-contrib
```

### 2. Инициализация базы данных:

Запустите скрипт ```init.sql``` с помощью следующей команды:

```
psql -U postgres -h localhost -f init.sql
```

В этом скрипте:

- Создается таблица furniture с полями id, name, type, price, и quantity, если она не существует.
- Вставляются некоторые образцовые данные в таблицу furniture.

## Инструкция по сборке и запуску Java-проекта из командной строки

### 1. Установите JDK и Maven:

Убедитесь, что на Вашем компьютере
установлены [JDK](https://www.oracle.com/java/technologies/downloads/)
и [Maven — фреймворк для автоматизации сборки проектов](https://maven.apache.org/). Вы можете проверить это,
выполнив в командной строке следующую команду:

```
java -version
mvn -version
```

### 2. Компиляция и запуск:

#### 2.1 Запуск сервера

Откройте терминал и перейдите в директорию проекта core7, затем выполните следующие команды:

```
mvnw clean package
java -jar .\target\core7-6.0.0.jar
```

Теперь можно взаимодействовать с сервером: добавлять, изменять, удалять мебель используя веб-интерфейс или
используя [REST API запросы](#использование-rest-api).

#### 2.2 Запуск REST-клиента

Откройте новый терминал и перейдите в директорию вашего REST-клиента, затем выполните следующие команды:

```
mvnw clean package
java -jar .\target\core7-6.0.0.jar
```

### 3. Взаимодействие с веб-интерфейсом приложения

Первым шагом, необходимо создать учетную запись.

Во вкладке регистрации:

* При указании логина admin. Пользователю будет выданы права суперпользователя.
* При указании иного логина. Пользователю будет выданы права пользователя, с возможностью только просматривать данные.

Теперь можно войти в учетную запись и использовать приложение!

## Использование REST API

### Получение списка мебели

**GET `/api/furniture`**

### Получение детальной информации о мебели

### Добавление новой мебели

**GET `/api/furniture/{id}`**

**POST `/api/furniture`**

### Обновление информации о мебели

**PUT `/api/furniture/{id}`**

### Удаление мебели

**DELETE `/api/furniture/{id}`**

